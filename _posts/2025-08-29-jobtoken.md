---
layout: post
title: Job token permissions to access registries
date: 2025-08-26 10:00:00
description: How to allow a gitlab repository to access the container registry of another, private, repository
tags: plug-and-play proximal
categories: gitlab cicd registry pull
featured: true
---

We have a setup where a private gitlab repository is hosting a docker image in
its container registry. This image is used with several repositories to build up
documents, web pages, etc..

Unfortunately, sometimes, we have the issue that the job running on the
secondary repositories fail with some errors like :

```
WARNING: Failed to pull image with policy "if-not-present": Error response from
daemon: pull access denied for ...
```

Actually this turns out to be a permission issue that must can be fixed on the
gitlab repository hosting the image. This can be configured in the "Settings /
CI-CD / Job Token permissions" menu. There, you can define an allowlist of
foreign repositories that can access the registry.
